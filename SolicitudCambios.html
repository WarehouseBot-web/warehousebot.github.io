<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>WarehouseBot - Oferta Económica</title>
    <link rel="stylesheet" href="css/styleActa.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="icon" href="img/icono_logo.ico" type="image/x-icon">
</head>

<body>
    <header class="bg-dark py-3">
        <nav class="navbar navbar-expand-lg navbar-dark container">
            <div class="logo">
                <img src="img/logosystemware.png" alt="Logo WarehouseBot" class="img-fluid" style="height: 50px;">
            </div>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a href="index.html" class="nav-link text-white" id="inicio">Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a href="nosotros.html" class="nav-link text-white" id="nosotros">Sobre Nosotros</a>
                    </li>
                    <li class="nav-item">
                        <a href="motivadores.html" class="nav-link text-white" id="motivadores">Motivadores</a>
                    </li>
                    <li class="nav-item">
                        <a href="team.html" class="nav-link text-white" id="team">Nuestro equipo</a>
                    </li>
                    <li class="nav-item">
                        <a href="portafolio.html" class="nav-link text-white" id="portafolio">Portafolio</a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link text-white" id="login-logout">Login</a>
                    </li>
                </ul>
            </div>
        </nav>
    </header>

    <!-- ===== BOTÓN 1 ===== -->
    <div class="header">
        <h1>Solicitudes de Cambios por componente</h1>
        <p class="description">Solicitud de cambio: Plataforma local</p>
        <button id="viewEDT1" class="view-button">Ver Acta de recepción</button>
    </div>

    <div id="actaContainer1" class="container my-5" style="display: none;">
        <h1 class="text-center mb-4">Plataforma Local</h1>
        <div class="pdf-viewer text-center">
            <iframe src="doc/cambiolocal.pdf" width="100%" height="600px" style="border: none;"></iframe>
        </div>
    </div>

    <!-- ===== BOTÓN 2 ===== -->
    <div class="header">
        <p class="description">Solicitud de cambio: Robot Autónomo</p>
        <button id="viewEDT2" class="view-button">Ver Acta de recepción</button>
    </div>

    <div id="actaContainer2" class="container my-5" style="display: none;">
        <h1 class="text-center mb-4">Robot Autónomo</h1>
        <div class="pdf-viewer text-center">
            <iframe src="doc/CambioRobot.pdf" width="100%" height="600px" style="border: none;"></iframe>
        </div>
    </div>

    <!-- ===== BOTÓN 3 ===== -->
    <div class="header">
        <p class="description">Solicitud de cambio: Plataforma Web/Movil</p>
        <button id="viewEDT3" class="view-button">Ver Acta de recepción</button>
    </div>

    <div id="actaContainer3" class="container my-5" style="display: none;">
        <h1 class="text-center mb-4">Plataforma Web/Movil</h1>
        <div class="pdf-viewer text-center">
            <iframe src="doc/cambioWeb.pdf" width="100%" height="600px" style="border: none;"></iframe>
        </div>
    </div>

    <footer>
        <p>&copy; 2025 WarehouseBot. Todos los derechos reservados.</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            let currentLocation = window.location.pathname.split("/").pop();
            let links = document.querySelectorAll(".nav-link");

            links.forEach(link => {
                if (link.getAttribute("href") === currentLocation) {
                    link.classList.add("active-link");
                }
            });

            let loginLogoutLink = document.getElementById("login-logout");

            if (sessionStorage.getItem("loggedIn")) {
                loginLogoutLink.innerText = "Cerrar sesión";
                loginLogoutLink.addEventListener("click", function () {
                    sessionStorage.removeItem("loggedIn");
                    window.location.href = "index.html";
                });

                let restrictedLinks = document.querySelectorAll(".nav-item a:not(#inicio):not(#login-logout)");
                restrictedLinks.forEach(link => {
                    link.classList.remove("disabled");
                    link.style.pointerEvents = "auto";
                    link.style.opacity = "1";
                });
            } else {
                loginLogoutLink.innerText = "Login";
                loginLogoutLink.addEventListener("click", function () {
                    window.location.href = "login.html";
                });

                let restrictedLinks = document.querySelectorAll(".nav-item a:not(#inicio):not(#login-logout)");
                restrictedLinks.forEach(link => {
                    link.classList.add("disabled");
                    link.style.pointerEvents = "none";
                    link.style.opacity = "0.5";
                });
            }
        });


        function toggleActa(buttonId, containerId) {
            const btn = document.getElementById(buttonId);
            const container = document.getElementById(containerId);

            btn.addEventListener('click', function () {
                if (container.style.display === 'none') {
                    container.style.display = 'block';
                    btn.textContent = 'Ocultar Acta de recepción';
                } else {
                    container.style.display = 'none';
                    btn.textContent = 'Ver Acta de recepción';
                }
            });
        }

        toggleActa('viewEDT1', 'actaContainer1');
        toggleActa('viewEDT2', 'actaContainer2');
        toggleActa('viewEDT3', 'actaContainer3');
    </script>
</body>

</html>